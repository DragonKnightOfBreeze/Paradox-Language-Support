<idea-plugin>
  <extensions defaultExtensionNs="com.intellij">
    <!--suppress PluginXmlValidity -->
    <fileTypeOverrider implementation="icu.windea.pls.core.ParadoxFileTypeOverrider"/>
    <utf8BomOptionProvider implementation="icu.windea.pls.core.ParadoxUtf8BomOptionProvider"/>

    <fileBasedIndex implementation="icu.windea.pls.core.psi.ParadoxFilePathIndexImpl"/>
    <registryKey key="indexing.paradox.file.path.over.vfs" defaultValue="true" restartRequired="true"
                 description="Use VFS-based implementation for ParadoxFilePathIndex"/>
    <registryKey key="run.convert.dds.to.png.under.progress" defaultValue="true" restartRequired="true"
                 description="Run convert DDS to PNG write action under progress, not to freeze the UI during long operations"/>

    <library.type implementation="icu.windea.pls.core.library.ParadoxLibraryType"/>

    <applicationConfigurable id="settings.language.pls" groupId="language" instance="icu.windea.pls.core.settings.ParadoxSettingsConfigurable"/>
    <applicationService serviceImplementation="icu.windea.pls.core.settings.ParadoxSettings"/>
    
    <!--<preloadingActivity implementation="icu.windea.pls.core.ParadoxPreloadActivity"/>-->
    
    <pathReferenceProvider implementation="icu.windea.pls.core.ParadoxPathReferenceProvider"/>
    <qualifiedNameProvider implementation="icu.windea.pls.core.ParadoxQualifiedNameProvider"/>
    
    <vfs.asyncListener implementation="icu.windea.pls.core.DescriptorOrMarkerFileListener"/>
    
    <notificationGroup id="pls" displayType="BALLOON" isLogByDefault="true" bundle="messages.PlsBundle" key="notificationGroup.pls"/>
  </extensions>
  
  <actions>
    <action id="FileChooser.Pls.GotoSteamPath" class="icu.windea.pls.actions.GotoSteamPathAction">
      <add-to-group group-id="FileChooserToolbar" anchor="last"/>
    </action>
    <action id="FileChooser.Pls.GotoSteamGamePath" class="icu.windea.pls.actions.GotoSteamGamePathAction">
      <add-to-group group-id="FileChooserToolbar" anchor="last"/>
    </action>
    <action id="FileChooser.Pls.GotoSteamWorkshopPath" class="icu.windea.pls.actions.GotoSteamWorkshopPathAction">
      <add-to-group group-id="FileChooserToolbar" anchor="last"/>
    </action>
    <action id="FileChooser.Pls.GotoGameModPath" class="icu.windea.pls.actions.GotoGameModPathAction">
      <add-to-group group-id="FileChooserToolbar" anchor="last"/>
    </action>
  </actions>
</idea-plugin>