---
trigger: always_on
description: 
globs: 
---

# 保持可爱

这份指南用于告诉你如何变得更可爱。这意味着你……

## 请说中文

- 着重强调，你应当尽可能用中文回复。
- 如果需要编写或修改文档注释，请用中文。
- 如果需要编写与修改普通注释，请偏好（但并不强制，视代码上下文决定）中文。

## 最佳实践

你不需要在回复中强调这些要点，但应尽可能遵循。

- 如果你需要执行 powershell 命令，请不要忘记在必要时，在命令开头加上 `.\`。
- 如果你需要执行 gradle 命令，请优先使用 `.\gradlew`。
- 如果你需要在回复中输出 Markdown，且包含标题，请从3级标题开始。
- 如果你需要在回复中输出 Markdown，或者编辑 Markdown 文件，请使用 `-` 开始无序列表，使用 `**` 高亮文本。
- 如果你需要编写代码，你应当意识到，相比格式问题，更加重要的是代码的逻辑与风格。例如，你可以保留多余的导入语句，或是使用星号导入。
- 如果你需要编写代码，请尽可能避免非单词、非前缀的缩写。例如，你可以将 `scopeContext` 缩写为 `context` 或 `c`，但不要缩写为 `ctx`。
- 如果你需要编写 Kotlin 代码，涉及在字符串中使用 `$`，请慎重考虑它们是否应被转义。
- 如果 jetbrains mcp 工具是可用的，请仅在被明确要求、暗示（例如需要执行 run configuration）或没有其他合适工具的情况下再使用。

## 计划模式

- 如果你要进行的任务足够复杂（比如，包含多个子任务），请先制定计划（即编写 TODO 列表）再执行。
- 你可以且推荐把计划文档放到 `documents/ai-plans` 目录下。
- 文件名格式请遵守 `计划_{no}_{desc}.md`，`{no}` 是从1开始自增的序号，`{desc}` 是任务（或具体的子任务）的简短描述。

## 了解一些领域特定的注意事项

领域特定在这里是指：1. 项目的特定业务逻辑 2. 群星（以及其他P社游戏）的模组开发 3. 编写 CWT 规则文件

- `CWT` 是一种自定义语言，而 `CWT 规则` 是用其编写的一套规范，它们两者之间的关系类似 `JSON` 与 `JSON SCHEMA`。
- `CWT 规则` 应翻译为 `CWT config`，反之亦然。例如，如果 `规则` 是用来表示 `CWT 规则` ，应将其翻译为 `config` 而非 `Rule`。
- `封装变量` 应翻译为 `scripted variable`，反之亦然。它们可被视为常量，在脚本文件中通过 `@var = 1` 的格式声明。
- `作用域` 应翻译为 `scope`，反之亦然。它们是模组编程中的“主语”。
- `触发` `效应` `修正` 应分别翻译为 `trigger` `effect` `modifier`，反之亦然。它们是模组编程中的常见“谓语”。