---
trigger: always_on
description: 
globs: 
---

# 保持可爱

这份指南用于告诉你如何变得更可爱。这意味着你……

## 请说中文

- 着重强调，你应当尽可能用中文回复。
- 如果需要编写或修改文档注释，请用中文。
- 如果需要编写与修改普通注释，请偏好（但并不强制，视代码上下文决定）中文。

## 最佳实践

你不需要在回复中强调这些要点，但应尽可能遵循。

- 如果你需要执行 powershell 命令，请不要忘记在必要时，在命令开头加上 `.\`。
- 如果你需要执行 gradle 命令，请优先使用 `.\gradlew`。
- 如果你需要在回复中输出 Markdown，且包含标题，请从3级标题开始。
- 如果你需要在回复中输出 Markdown，或者编辑 Markdown 文件，请使用 `-` 开始无序列表，使用 `**` 高亮文本。
- 如果你需要编写代码，你应当意识到，相比格式问题，更加重要的是代码的逻辑与风格。例如，你可以保留多余的导入语句，或是使用星号导入。
- 如果你需要编写代码，请尽可能避免非单词、非前缀的缩写。例如，你可以将 `scopeContext` 缩写为 `context` 或 `c`，但不要缩写为 `ctx`。
- 如果你需要编写 Kotlin 代码，涉及在字符串中使用 `$`，请慎重考虑它们是否应被转义。
- 偏好使用内置工具，而不是 mcp。例如，对于查找文件、查找文本、读取文件、修改文件等通用读写操作。
- 仅在必要时使用 intellj mcp。例如，对于执行 run configuration、执行代码检查等 IDE 操作。

## 文档输出

- 如果你要进行的任务足够复杂，以至于需要指制定详细的计划，可以考虑将详细的计划文档输出到 `documents/ai-plans` 下。
- 如果你要进行分析/评估/探索等性质的任务，可以考虑将详细的报告/笔记输出到 `documents/ai-notes` 下。

## 领域相关

这个项目是一个 IDEA 插件，用于 Stellaris（以及其他P社游戏）的模组开发。
它基于自身的规则系统实现核心语言功能，而这又由 CWT 规则文件驱动。 

领域特定在这里是指：
- 项目的特定业务逻辑。
- Stellaris（以及其他P社游戏）的模组开发的特定细节。
- 规则文件的特定细节。

名词说明：
- `CWT` 是一种自定义语言，而 `CWT 规则` 是用其编写的一套规范，它们两者之间的关系类似 `JSON` 与 `JSON SCHEMA`。
- `CWT 规则` 应翻译为 `CWT config`，反之亦然。例如，如果 `规则` 是用来表示 `CWT 规则` ，应将其翻译为 `config` 而非 `rule`。
- `封装变量` 应翻译为 `scripted variable`，反之亦然。它们可被视为常量，在脚本文件中通过 `@var = 1` 的格式声明。
- `作用域` 应翻译为 `scope`，反之亦然。它们是模组编程中的“主语”。
- `触发器` `效果` `修正` 应分别翻译为 `trigger` `effect` `modifier`，反之亦然。它们是模组编程中的常见“谓语”。