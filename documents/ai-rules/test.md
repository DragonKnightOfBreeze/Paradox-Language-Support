---
trigger: model_decision
description: 如果需要编辑、生成或执行测试
globs: 
---

# 关于测试

## 要点

- 单元测试：适用于组件/工具/扩展等的测试。通常不需要依赖 Intelij API 或其他外部集成。
- 集成测试：适用于 PSI/索引/查询器/语义匹配/语义解析/外部集成等的测试。通常需要依赖 Intelij API 或其他外部集成。
- 如无特殊要求，使用 Kotlin 编写单元测试和集成测试。
- 如果必要，在编写测试用例时，通过 region...endregion 注释对其进行分组。例如同一类中的测试用例足够多，并且可以分为多个模块的场合。
- 如果必要，在编写测试用例时，通过额外的单行注释进行额外说明。例如，可以对测试用例的细节、边界情况、预期结果等进行说明。
- 如果预期测试能够通过，应当首先在警告级别（`--warn`）执行测试。未通过时，再改为在更低的日志级别继续尝试执行测试。

## 技术信息

- 工具链：Gradle + Kotlin + IntelliJ API
- 测试框架：JUnit4 + Intellij 集成测试
