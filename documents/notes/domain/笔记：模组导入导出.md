# 笔记：模组导入导出

## 概述

目前用于：

- 在游戏或模组设置的对话框中，从各种数据文件导入模组信息到模组依赖列表中。
- 在游戏或模组设置的对话框中，从模组依赖列表导出模组信息各种数据文件。

IMM 参考链接：

- https://github.com/bcssov/IronyModManager
- https://github.com/bcssov/IronyModManager/tree/master/src/IronyModManager.IO/Mods/Exporter
- https://github.com/bcssov/IronyModManager/tree/master/src/IronyModManager.IO/Mods/Importers

核心代码：

- `icu.windea.pls.ep.tools` - EP 与模型类所在的包
- `icu.windea.pls.ep.tools.importer.ParadoxLauncherJsonImporter` - 模组导入器 EP
- `icu.windea.pls.ep.tools.exporter.ParadoxLauncherJsonExporter` - 模组导出器 EP
- `icu.windea.pls.lang.ui.tools.ParadoxModDependenciesImportPopup` - 导入模组依赖的弹出窗口 UI
- `icu.windea.pls.lang.ui.tools.ParadoxModDependenciesExportPopup` - 导出模组依赖的弹出窗口 UI

模组导入器实现：

- `icu.windea.pls.ep.tools.importer.ParadoxJsonBasedModImporter` - 基于 JSON 的模组导入器
  - [X] `icu.windea.pls.ep.tools.importer.ParadoxGameJsonImporter` - 基于 `dlc_load.json` 或 `content_load.json`
  - [X] `icu.windea.pls.ep.tools.importer.ParadoxLauncherJsonImporter` - 基于 `playlist.json`，版本：V2（< 2021.10），V3（≥ 2021.10）
- `icu.windea.pls.ep.tools.importer.ParadoxDbBasedModImporter` - 基于 SQLite 的模组导入器
  - [ ] `icu.windea.pls.ep.tools.importer.ParadoxLauncherDbImporter` - 基于 `launcher-v2.sqlite`，版本：V2，V4，V5 
  - [X] `icu.windea.pls.ep.tools.importer.ParadoxLauncherBetaDbImporter` - 基于 `launcher-v2_openbeta.sqlite`，版本：V2，V4，V5

模组导出器实现：

- `icu.windea.pls.ep.tools.exporter.ParadoxJsonBasedModExporter` - 基于 JSON 的模组导入器
  - [ ] `icu.windea.pls.ep.tools.exporter.ParadoxGameJsonExporter` - 基于 `dlc_load.json` 或 `content_load.json`
  - [ ] `icu.windea.pls.ep.tools.exporter.ParadoxLauncherJsonV2Exporter` - 基于 `playlist.json`，版本：V2（< 2021.10）
  - [ ] `icu.windea.pls.ep.tools.exporter.ParadoxLauncherJsonV3Exporter` - 基于 `playlist.json`，版本：V3（≥ 2021.10）
- `icu.windea.pls.ep.tools.exporter.ParadoxDbBasedModExporter` - 基于 SQLite 的模组导入器
  - [ ] `icu.windea.pls.ep.tools.exporter.ParadoxLauncherDbExporter` - 基于 `launcher-v2.sqlite`，版本：V2，V4，V5
  - [X] `icu.windea.pls.ep.tools.exporter.ParadoxLauncherBetaDbExporter` - 基于 `launcher-v2_openbeta.sqlite`，版本：V2，V4，V5