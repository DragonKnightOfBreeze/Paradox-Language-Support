# 探索_4_脚本语言支持

## 语言基础设施
```xml
<fileType name="Script" .../>
<lang.parserDefinition language="Script" .../>
```
- 支持游戏脚本文件解析

## 核心功能
### 智能辅助
```mermaid
pie
    title 功能分布
    "代码补全" ： 35
    "引用解析" ： 25
    "用法追踪" ： 20
    "语义检查" ： 20
```

### 编辑器增强
| 功能 | 实现类 |
|------|--------|
| 括号匹配 | `script.braceMatcher` |
| 引号处理 | `script.quoteHandler` |
| 代码折叠 | `script.foldingBuilder` |
| 智能换行 | `script.smartEnterProcessor` |

## 高级特性
1. **表达式引擎**：
   - 作用域链解析
   - 参数注入
   - 内联脚本支持
2. **模板系统**：
   - 实时代码模板
   - 成员级上下文模板
3. **结构导航**：
   - 文件结构树
   - 导航栏快捷访问

## 演进方向
🎮 **游戏特性适配**：加强 Stellaris 事件链支持
🔍 **表达式调试**：开发内联表达式求值器
